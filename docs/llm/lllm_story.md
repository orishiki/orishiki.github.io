# ローカルLLMを使った執筆

単純に「小説を書いて」と指示してもそれっぽい文章を書いてくれるが、いきなり長編を書かせようとしても、欲しい話を描いてはくれないので、上手くコントロールする必要がある。

一般的な手法の例は以下の通り。

## (A) 交互に執筆する。

書き出しは自分で書く、それに続けて執筆させる、その続きを自分で書く、それに続けて執筆させる、の繰り返し。
文体を指定しやすいが、話の流れは指定しにくい。

例：phi-4/14B

User
僕はスヴェン。狼獣人の戦士だ。素行の悪さから村を追い出されてしまったけれど、戦士の腕があれば冒険者としても十分やっていけるはずだ。まずは冒険者ギルドに行って、冒険者登録を

Assistant
しなくてはならなかった。村から数日の旅である大都市レナスに到着したとき、夕焼けが街の石造りの建物や屋根をオレンジ色に染め上げていた。冷え込む空気は鼻腔をくすぐるが、スヴェンの心は期待で震えていた。彼は長い間、自分だけの道を切り開き、名誉ある戦士としての地位を築くことを夢見ていた。

街灯が暖かな光を放ち始める頃、彼はギルドハウスを目指した。大都市レナスには様々な冒険者や魔法使いの活気ある雰囲気が溢れており、それが彼の胸に希望を灯す火花となった。古びた石段を上がり、重厚な扉をくぐると、そこは広々とした大ホールであった。天井から吊るされたランタンの光によって、部屋中が柔らかい影を描き出している。

## (B) 盛り込みたい要素を指定する。

ジャンルや登場人物などを指定して執筆させる。指定しない部分はAIがお任せで考えてくれるので、お約束的な設定に関しては楽ができる。

例：Lumimaid-v0.2-12B

User
以下の要素を織り込んで小説を執筆して下さい。
* ジャンル：中世ファンタジー、剣と魔法の世界
* 主人公：狼獣人のスヴェン
* 開始シーン：スヴェンは冒険者ギルドで仲間を集めて冒険に出る。

Assistant
風の強い朝、スヴェンは重々しい足取りでギルドへ向かった。彼の体は筋肉質で毛皮が生えており、明らかに狼獣人種族だった。金色の目には冒険者生活10年の疲れと戦いに対する強い意志が宿っていた。

ギルドの中ではすでに数人の仲間たちが集まっていた。剣術の名手カイエ、魔法を操るジーナ、弓矢で敵を射貫くシオンなど、様々な職業と人種が混在する面々だ。

"よお、スヴェン。また難しい依頼かい？" とカイエが笑った。
"ああ。例のドラゴン退治だ。報酬は破格らしいが..."
"ドラゴンだと...!?" ジーナの声が上ずる。
"やり遂げなきゃ、とてもじゃないが生きて帰れそうにないぜ..." とシオンが皮肉っぽく言った。

スヴェンは重苦しい雰囲気に一矢報いた。
"心配するな。俺たちなら大丈夫だ。準備できたら出発しよう...!"
全員がうなずき、冒険者たちは新たなる挑戦へ向けて足を進めた。

外の風は相変わらず強く、空には黒雲が垂れ込めていた。
この天気では、ドラゴンの荒んだ息遣いすら聞こえてきそうな予感がした...。

## (C) 設定とシナリオを指定して、あらすじを書かせる。あらすじをシーンに分割して、さらに書かせる。

生成AIにいきなり長文を書かせると破綻するので、作業を小さく分割する事で、破綻を回避する。自分だけの世界設定を考えるのは楽しいので、設定とシナリオだけ考えて、後をAIに任せる。シナリオのアイデア出しからAIに任せるものあり。

本格的に設定を作り出すとコンテキスト長が足りなくなるので、Lorebook等のトークンを節約する機能を持つソフトを使うのがおすすめ。

